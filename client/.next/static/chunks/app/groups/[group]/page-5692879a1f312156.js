(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[361],{3806:function(s,e,t){Promise.resolve().then(t.bind(t,4978))},8665:function(s,e,t){"use strict";t.d(e,{H:function(){return r}});var n=t(7437),a=t(2173),i=t(2265);let c=(0,i.createContext)();function r(s){let[e,t]=(0,i.useState)(null);async function r(){try{let s=await a.Z.get("https://byteswap-f4y5.onrender.com/auth/isauthentic",{withCredentials:!0});t(s.data)}catch(s){t(null)}}(0,i.useEffect)(()=>{r()},[]);let[l,d]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{r()},[l]),(0,n.jsx)(c.Provider,{value:{UserDetails:e,setUserDetails:t,call_again_getuser:l,setcall_again_getuser:d},children:s.children})}e.Z=c},4978:function(s,e,t){"use strict";t.r(e),t.d(e,{default:function(){return m}});var n=t(7437),a=t(2265),i=t(3388);t(1475);var c=t(2067),r=t.n(c);function l(s){return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{class:"msg right-msg",children:[(0,n.jsx)("div",{class:"msg-img",children:(0,n.jsx)("i",{class:"fa-solid fa-user"})}),(0,n.jsxs)("div",{class:"msg-bubble",children:[(0,n.jsxs)("div",{class:"msg-info",children:[(0,n.jsx)("div",{class:"msg-info-name",children:"You"}),(0,n.jsx)("div",{class:"msg-info-time",children:r().utc(s.date).local().startOf("seconds").fromNow()})]}),(0,n.jsx)("div",{class:"msg-text",children:s.message})]})]})})}function d(s){return(0,n.jsxs)("div",{class:"msg left-msg",children:[(0,n.jsx)("div",{class:"msg-img",children:(0,n.jsx)("i",{class:"fa-solid fa-user"})}),(0,n.jsxs)("div",{class:"msg-bubble",children:[(0,n.jsxs)("div",{class:"msg-info",children:[(0,n.jsx)("div",{class:"msg-info-name",children:s.name}),(0,n.jsx)("div",{class:"msg-info-time",children:r().utc(s.date).local().startOf("seconds").fromNow()})]}),(0,n.jsx)("div",{class:"msg-text",children:s.message})]})]})}var u=t(8665);let o=i.ZP.connect("https://byteswap-f4y5.onrender.com/");var m=s=>{let{params:e}=s,{UserDetails:t}=(0,a.useContext)(u.Z),i=e.group,[c,r]=(0,a.useState)(""),[m,f]=(0,a.useState)([]);return(0,a.useEffect)(()=>{f([])},[i]),(0,a.useEffect)(()=>(o.on("message",s=>{console.log(s),f(e=>[...e,s])}),()=>{o.disconnect()}),[]),(0,n.jsx)("div",{children:(0,n.jsxs)("section",{class:"msger",children:[(0,n.jsxs)("header",{class:"msger-header",children:[(0,n.jsxs)("div",{class:"msger-header-title",children:[(0,n.jsx)("i",{class:"fas fa-comment-alt"})," ",i," Discussion"]}),(0,n.jsx)("div",{class:"msger-header-options",children:(0,n.jsx)("span",{children:(0,n.jsx)("i",{class:"fas fa-cog"})})})]}),(0,n.jsx)("div",{className:"max-chat-size",children:(0,n.jsx)("main",{class:"msger-chat",children:null==m?void 0:m.map((s,e)=>(0,n.jsx)("div",{class:"msger-chat",children:s.user===t.username?(0,n.jsx)(l,{message:s.text,date:s.date,name:s.user}):(0,n.jsx)(d,{message:s.text,date:s.date,name:s.user})},e))})}),(0,n.jsxs)("form",{class:"msger-inputarea",onSubmit:s=>{if(s.preventDefault(),!t){alert("Login Before Sending Message");return}if(c.trim()){let s={room:i,text:c,user:t.username,date:new Date};o.emit("message",s),r("")}},children:[(0,n.jsx)("input",{type:"text",class:"msger-input",value:c,onChange:s=>{r(s.target.value)}}),(0,n.jsx)("button",{class:"msger-send-btn",type:"submit",children:"Send"})]})]})})}},1475:function(){}},function(s){s.O(0,[990,580,388,971,32,744],function(){return s(s.s=3806)}),_N_E=s.O()}]);